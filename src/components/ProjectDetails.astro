---
interface ProjectDetailsProps {
  title: string;
  subtitle?: string;
  imageUrl: string;
  description: string;
  features?: string[];
  technologies?: string[];
  repoUrl?: string;
  demoUrl?: string;
  date?: string;
}

const {
  title,
  subtitle,
  imageUrl,
  description,
  features = [],
  technologies = [],
  repoUrl,
  demoUrl,
  date,
} = Astro.props as ProjectDetailsProps;
---

<section class="max-w-5xl mx-auto py-12 px-4">
  <div class="mb-8">
    <a
      href="/#projects"
      class="inline-flex items-center text-indigo-500 hover:text-indigo-400 transition-colors"
      >← Zurück zu Projekte</a
    >
  </div>

  <header class="mb-8">
    <h1
      class="text-3xl sm:text-4xl font-bold mb-2 text-[color:var(--color-heading)]"
    >
      {title}
    </h1>
    {subtitle && <p class="text-gray-600 dark:text-gray-300">{subtitle}</p>}
    {
      date && (
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">{date}</p>
      )
    }
  </header>

  <div
    class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl overflow-hidden shadow-md"
  >
    <img
      src={imageUrl}
      alt={title}
      class="w-full h-64 object-cover bg-gray-100 dark:bg-gray-900"
      loading="lazy"
      decoding="async"
      width="1200"
      height="384"
      sizes="(min-width: 1024px) 800px, 100vw"
    />

    <div class="p-6">
      <p class="text-gray-700 dark:text-gray-200 mb-6">{description}</p>

      {
        features.length > 0 && (
          <div class="mb-6">
            <h2 class="text-xl font-semibold mb-2">Highlights</h2>
            <ul class="list-disc ml-6 space-y-1 text-gray-700 dark:text-gray-200">
              {features.map((f: string) => (
                <li>{f}</li>
              ))}
            </ul>
          </div>
        )
      }

      {
        technologies.length > 0 && (
          <div class="mb-6">
            <h2 class="text-xl font-semibold mb-2">Technologien</h2>
            <div>
              {technologies.map((t: string) => (
                <span class="inline-block bg-indigo-200 dark:bg-indigo-400/20 text-gray-900 dark:text-indigo-200 px-3 py-1 rounded-lg text-sm mr-2 mb-2 font-medium tracking-wide">
                  {t}
                </span>
              ))}
            </div>
          </div>
        )
      }

      <div class="flex flex-col sm:flex-row gap-3 pt-2">
        {
          demoUrl && (
            <a
              href={demoUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block px-4 py-2 rounded-lg font-semibold text-white bg-indigo-600 hover:bg-indigo-500 text-center flex-1"
            >
              Live Demo
            </a>
          )
        }
        {
          repoUrl && (
            <a
              href={repoUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-block px-4 py-2 rounded-lg font-semibold text-indigo-600 dark:text-indigo-300 border border-indigo-600/60 dark:border-indigo-300/50 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 text-center flex-1"
            >
              Code ansehen
            </a>
          )
        }
      </div>
    </div>
  </div>
</section>
